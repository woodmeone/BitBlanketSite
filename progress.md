# æ¯”ç‰¹æ¯¯å­é¡¹ç›®è¿›åº¦æ€»ç»“

> æœ€åæ›´æ–°ï¼š2026-02-16
> 
> **ğŸ‰ é¡¹ç›®å·²ä¸Šçº¿**: https://671992df.bit-blanket.pages.dev

---

## é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**ï¼šæ¯”ç‰¹æ¯¯å­ (Bit Blanket)
**æŠ€æœ¯æ ˆ**ï¼šAstro + Vue 3 + Tailwind CSS + Cloudflare D1
**æ¶æ„æ¨¡å¼**ï¼šæ··åˆæ–¹æ¡ˆï¼ˆSSG + æ•°æ®åº“ï¼‰

---

## å·²å®ŒæˆåŠŸèƒ½

### 1. ç®¡ç†åå° âœ…

**è·¯å¾„**ï¼š`/admin/*`

| åŠŸèƒ½ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| ç™»å½• | `/admin/login` | å¯†ç è®¤è¯ |
| é¦–é¡µ | `/admin` | ç»Ÿè®¡æ¦‚è§ˆ |
| éšç¬”ç®¡ç† | `/admin/posts` | ç®€åŒ–è¡¨å• + URL è‡ªåŠ¨ç”Ÿæˆ |
| åˆ†äº«ç®¡ç† | `/admin/software` | éšè—åŸŸç‚¹å‡»å±•å¼€ |
| é¡¹ç›®ç®¡ç† | `/admin/projects` | ä½¿ç”¨åœºæ™¯ Tooltip |
| å¾…åŠç®¡ç† | `/admin/todos` | çœ‹æ¿è§†å›¾ + æ‹–æ‹½ |
| ç²‰ä¸äº’åŠ¨ | `/admin/interactions` | é‡‡çº³/å¿½ç•¥/å›å¤ |

**å¸ƒå±€ç»„ä»¶**ï¼š`src/layouts/AdminLayout.astro`ï¼ˆé¡¶éƒ¨ Tab å¯¼èˆªï¼‰

### 2. å‰å°é¡µé¢ âœ…

| é¡µé¢ | è·¯å¾„ | æ•°æ®æ¥æº |
|------|------|----------|
| é¦–é¡µ | `/` | é™æ€ |
| éšç¬”åˆ—è¡¨ | `/blog` | æ•°æ®åº“ |
| éšç¬”è¯¦æƒ… | `/blog/[slug]` | æ•°æ®åº“ |
| åˆ†äº« | `/software` | æ•°æ®åº“ + éšè—åŸŸ |
| é¡¹ç›® | `/projects` | æ•°æ®åº“ + Tooltip |
| å¾…åŠ | `/todos` | æ•°æ®åº“ |
| ç²‰ä¸äº’åŠ¨ | `/community` | æ•°æ®åº“ |
| å½’æ¡£ | `/archive` | é™æ€ |
| å…³äº | `/about` | é™æ€ |

### 3. æ•°æ®åº“å±‚ âœ…

**æœ¬åœ°å¼€å‘**ï¼š`LocalDatabase` ç±»ï¼ˆå†…å­˜æ¨¡æ‹Ÿï¼‰
**ç”Ÿäº§ç¯å¢ƒ**ï¼šCloudflare D1

**æ•°æ®æœåŠ¡**ï¼š`src/lib/data-service.ts`

**æ•°æ®è¡¨**ï¼š
- `posts` - éšç¬”
- `software` - åˆ†äº«ï¼ˆå« hidden_contentï¼‰
- `projects` - é¡¹ç›®ï¼ˆå« usage_scenarioï¼‰
- `todos` - å¾…åŠ
- `suggestions` - ç²‰ä¸å»ºè®®ï¼ˆå« replyï¼‰
- `votes` - æŠ•ç¥¨è®°å½•

### 4. API æ¥å£ âœ…

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/posts` | CRUD | éšç¬”ç®¡ç† |
| `/api/software` | CRUD | åˆ†äº«ç®¡ç† |
| `/api/projects` | CRUD | é¡¹ç›®ç®¡ç† |
| `/api/todos` | CRUD | å¾…åŠç®¡ç† |
| `/api/suggestions` | CRUD | ç²‰ä¸å»ºè®® |
| `/api/auth/login` | POST | ç™»å½•è®¤è¯ |
| `/api/auth/verify` | GET | éªŒè¯ Token |

---

## å…³é”®æ–‡ä»¶

```
src/
â”œâ”€â”€ layouts/
â”‚   â”œâ”€â”€ BaseLayout.astro      # å‰å°å¸ƒå±€
â”‚   â””â”€â”€ AdminLayout.astro     # åå°å¸ƒå±€
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ db.ts                 # æ•°æ®åº“è¿æ¥å±‚
â”‚   â”œâ”€â”€ data-service.ts       # æ•°æ®æœåŠ¡å±‚
â”‚   â””â”€â”€ auth.ts               # è®¤è¯æ¨¡å—
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ admin/                # ç®¡ç†åå°é¡µé¢
â”‚   â”œâ”€â”€ api/                  # API è·¯ç”±
â”‚   â”œâ”€â”€ blog/                 # éšç¬”é¡µé¢
â”‚   â”œâ”€â”€ community.astro       # ç²‰ä¸äº’åŠ¨
â”‚   â”œâ”€â”€ projects.astro        # é¡¹ç›®é¡µ
â”‚   â”œâ”€â”€ software.astro        # åˆ†äº«é¡µ
â”‚   â””â”€â”€ todos.astro           # å¾…åŠé¡µ
â””â”€â”€ components/
    â”œâ”€â”€ collage/              # æ‹¼è´´é£æ ¼ç»„ä»¶
    â”œâ”€â”€ SuggestionForm.vue    # å»ºè®®è¡¨å•
    â””â”€â”€ VoteButton.vue        # æŠ•ç¥¨æŒ‰é’®
```

---

## é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `astro.config.mjs` | Astro é…ç½®ï¼ˆplatformProxy: falseï¼‰ |
| `wrangler.toml` | Cloudflare é…ç½® |
| `schema.sql` | æ•°æ®åº“ Schema |

---

## å¾…å®Œæˆäº‹é¡¹

### éƒ¨ç½²ç›¸å…³
1. ~~åˆ›å»º Cloudflare D1 æ•°æ®åº“~~ âœ… å·²å®Œæˆ
2. ~~è¿è¡Œè¿ç§»è„šæœ¬~~ âœ… å·²å®Œæˆï¼ˆ29 queriesï¼‰
3. ~~é…ç½®ç¯å¢ƒå˜é‡ï¼ˆAUTH_PASSWORDï¼‰~~ âœ… å·²å®Œæˆ
4. ~~éƒ¨ç½²åˆ° Cloudflare Pages~~ âœ… å·²å®Œæˆ

### åŠŸèƒ½ä¼˜åŒ–ï¼ˆåç»­è¿­ä»£ï¼‰
1. æ·»åŠ æ•°æ®éªŒè¯
2. æ·»åŠ é”™è¯¯æç¤º
3. ä¼˜åŒ– SEOï¼ˆç»“æ„åŒ–æ•°æ®ï¼‰
4. æ·»åŠ å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½

---

## æœ¬åœ°å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»º
pnpm build

# éƒ¨ç½²
pnpm run deploy
```

---

## è®¤è¯ä¿¡æ¯

**ç®¡ç†åå°å¯†ç **ï¼šå­˜å‚¨åœ¨ `AUTH_PASSWORD` ç¯å¢ƒå˜é‡
**Token å­˜å‚¨**ï¼šlocalStorage `auth_token`

---

## æ³¨æ„äº‹é¡¹

1. **æœ¬åœ°å¼€å‘**ï¼šä½¿ç”¨å†…å­˜æ•°æ®åº“ï¼Œé‡å¯åæ•°æ®ä¸¢å¤±
2. **ç”Ÿäº§ç¯å¢ƒ**ï¼šCloudflare D1 æ•°æ®åº“å·²é…ç½®ï¼ˆdatabase_id: fbdbc85d-7f6c-4f2a-b8b4-c80953d20ff6ï¼‰
3. **SEO**ï¼šç®¡ç†åå°å·²æ·»åŠ  `noindex` meta æ ‡ç­¾
4. **UI é£æ ¼**ï¼šä¿æŒæ‹¼è´´é£æ ¼è®¾è®¡
5. **éƒ¨ç½²**ï¼šé€šè¿‡ `pnpm exec wrangler pages deploy dist --project-name=bit-blanket` éƒ¨ç½²
